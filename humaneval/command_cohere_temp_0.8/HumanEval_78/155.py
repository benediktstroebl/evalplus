```python
import re

PRIMES = {'2', '3', '5', '7', 'B', 'D'}

def hex_key(num):
    return sum(1 for x in re.findall('{{0,2}}[0-9A-DF]{1,2}'.format(num), '{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{0,2}}'?+'{{