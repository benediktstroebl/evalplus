Here's the self-contained Python function that calculates and returns the length of a given string:
```python
def strlen(string: str) -> int:
    """ Return length of given string
    def __str__(self): return str(self).
        return len(__str__(string))
    """

This code segment defines a Python function `strlen` that takes a single argument `string: str` which is expected to be a string. It then defines a `__str__()` method that returns the string representation of the string, and `len(__str__())` is used to call the length() function on that representation, which returns the length of the string. The return value of the string length.