```python
def flip_case(string: str) -> str:
    return ''.joinase(c.swap(c.isupper()) for string.string()

``` 

def test_flip_case():
    assert flip_case('Hello') == 'hELLO'
    assert flip_case('World') == 'dlroW'
    assert flip_case('What') == 'tHWhat'
    assert flip_case('ois TeStInG') == 'ot tEstInG'
```

This code defines a function `flip_case` that transforms a given string to have its characters switched between lowercase and uppercase. It is passed through a tests that validate the function's behavior correctly.