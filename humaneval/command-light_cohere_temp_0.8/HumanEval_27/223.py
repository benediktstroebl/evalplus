```python
def flip_case(string: str) -> str:
    return ''.join('_'.join(c, c.ooupper() if(c.lower() if c=='c.upper() else c==c.lower() if c=='c)
```

# Test cases
print(flip_case('Hello'))  # Output: hELLO
print(flip_case('HELLo'))  # Output: hELLo
```